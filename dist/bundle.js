(()=>{"use strict";var t=.01,e=function(){function e(t,e,i){void 0===i&&(i="#FFFFFF"),this.radius=10,this.dx=0,this.dy=0,this.isPocketed=!1,this.point=t,this.color=i,this.canvas=e.canvas,this.table=e.table}return e.prototype.draw=function(){if(!this.isPocketed){var t=this.canvas.getContext("2d");t&&(t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath())}},e.prototype.update=function(){this.isPocketed||(this.x+=this.dx,this.y+=this.dy,this.dx*=.98,this.dy*=.98,Math.abs(this.dx)<t&&(this.dx=0),Math.abs(this.dy)<t&&(this.dy=0),(this.x+this.radius>this.table.width+this.table.padding||this.x-this.radius<this.table.padding)&&(this.dx=-this.dx,this.x+this.radius>this.table.width+this.table.padding&&(this.x=this.table.width+this.table.padding-this.radius),this.x-this.radius<this.table.padding&&(this.x=this.table.padding+this.radius)),(this.y+this.radius>this.table.height+this.table.padding||this.y-this.radius<this.table.padding)&&(this.dy=-this.dy,this.y+this.radius>this.table.height+this.table.padding&&(this.y=this.table.height+this.table.padding-this.radius),this.y-this.radius<this.table.padding&&(this.y=this.table.padding+this.radius)),this.draw())},Object.defineProperty(e.prototype,"x",{get:function(){return this.point.x},set:function(t){this.point.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.point.y},set:function(t){this.point.y=t},enumerable:!1,configurable:!0}),e}();const i=e;var n=function(){function t(t){this.radius=20,this.point=t}return Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},enumerable:!1,configurable:!0}),t}();const a=n,d=function(t,e){this.x=t,this.y=e},h=function(t,e,i,n,a){this.width=t,this.height=e,this.padding=i,this.tableColor=n,this.borderColor=a};function s(t,e){return{x:t.x*Math.cos(e)-t.y*Math.sin(e),y:t.x*Math.sin(e)+t.y*Math.cos(e)}}function r(t,e){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)<t.radius+e.radius}function o(t,e){var i=t.dx-e.dx,n=t.dy-e.dy;if(i*(e.x-t.x)+n*(e.y-t.y)>=0){var a=-Math.atan2(e.y-t.y,e.x-t.x),d=s({x:t.dx,y:t.dy},a),h=s({x:e.dx,y:e.dy},a),r={x:h.x,y:d.y},o={x:d.x,y:h.y},u=s(r,-a),l=s(o,-a);t.dx=u.x,t.dy=u.y,e.dx=l.x,e.dy=l.y}}var u=function(){var t=document.getElementById("angle"),e=document.getElementById("force"),i=document.getElementById("angleValue");i&&(i.textContent=t.value);var n=document.getElementById("forceValue");n&&(n.textContent=e.value)},l=function(t,e,i){if(i||2===arguments.length)for(var n,a=0,d=e.length;a<d;a++)!n&&a in e||(n||(n=Array.prototype.slice.call(e,0,a)),n[a]=e[a]);return t.concat(n||Array.prototype.slice.call(e))};var c,y,g,f,p,x,b,w,v,m,M,P,E;c=document.getElementById("gameCanvas"),y=document.getElementById("angle"),g=document.getElementById("force"),f=document.getElementById("strike"),p=new h(800,400,10,"#006400","#654321"),x=c.getContext("2d"),b={canvas:c,table:p},w=function(t,e,n){var a=[],h=25,s=0;a.push(new i(new d(t,e),n)),s=12.5,a.push(new i(new d(t+h,e+s),n)),a.push(new i(new d(t+h,e-s),n));var r=3;s=h;for(var o=0;o<r;o++)a.push(new i(new d(t+50,e-s+o*h),n));for(r=4,s=37.5,o=0;o<r;o++)a.push(new i(new d(t+75,e-s+o*h),n));for(r=5,s=50,o=0;o<r;o++)a.push(new i(new d(t+100,e-s+o*h),n));return a}(c.width/2+150,c.height/2,b),v=new i(new d(c.width/2-250,c.height/2),b,"#000"),m=[new a(new d(p.padding,p.padding)),new a(new d(p.width/2+p.padding,p.padding)),new a(new d(p.width+p.padding,p.padding)),new a(new d(p.padding,p.height+p.padding)),new a(new d(p.width/2+p.padding,p.height+p.padding)),new a(new d(p.width+p.padding,p.height+p.padding))],M=function(){return l([v],w,!0).every((function(e){return Math.abs(e.dx)<t&&Math.abs(e.dy)<t}))},P=function(){u(),x.clearRect(0,0,c.width,c.height),x.fillStyle=p.borderColor,x.fillRect(0,0,p.width+2*p.padding,2*p.padding+p.height),x.fillStyle=p.tableColor,x.fillRect(p.padding,p.padding,p.width,p.height),m.forEach((function(t){x.beginPath(),x.arc(t.x,t.y,t.radius,0,2*Math.PI),x.fillStyle="#000",x.fill(),x.closePath()})),w.forEach((function(t){return t.update()})),v.update();for(var t,e,i,n,a,d=l([v],w,!0),h=0;h<d.length;h++)for(var s=d[h],b=h+1;b<d.length;b++){var E=d[b];r(s,E)&&o(s,E)}d.forEach((function(t){var e;t.isPocketed||function(t){for(var e=0,i=m;e<i.length;e++){var n=i[e],a=t.x-n.x,d=t.y-n.y;if(Math.sqrt(a*a+d*d)<=n.radius)return!0}return!1}(t)&&(t.isPocketed=!0,t===v?(v.x=c.width/2-250,v.y=c.height/2,v.dx=0,v.dy=0,v.isPocketed=!1,P()):(e=document.getElementById("hitBallCount")).textContent="".concat(Number(e.textContent)+1))})),w=w.filter((function(t){return!t.isPocketed})),M()&&w.length?(t=Number(y.value)*Math.PI/180,e=v.x-15*Math.cos(t),i=v.y-15*Math.sin(t),n=e-100*Math.cos(t),a=i-100*Math.sin(t),x.beginPath(),x.moveTo(e,i),x.lineTo(n,a),x.strokeStyle="#8B4513",x.lineWidth=4,x.stroke(),x.closePath(),y.disabled=!1,g.disabled=!1,f.disabled=!1):(y.disabled=!0,g.disabled=!0,f.disabled=!0)},E=function(){P(),M()||requestAnimationFrame(E)},f.addEventListener("click",(function(){if(M()){var t=Number(y.value),e=Number(g.value),i=t*Math.PI/180;v.dx=Math.cos(i)*e*.25,v.dy=Math.sin(i)*e*.25,requestAnimationFrame(E)}})),y.addEventListener("input",(function(){M()&&P()})),g.addEventListener("input",(function(){u()})),P(),document.getElementById("restart").addEventListener("click",(function(){location.reload()}))})();
//# sourceMappingURL=bundle.js.map