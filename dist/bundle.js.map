{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://billiard/./src/entities/ball.ts","webpack://billiard/./src/physics/collision.ts","webpack://billiard/./src/index.ts","webpack://billiard/./src/entities/table.ts"],"sourcesContent":["import type { BilliardWorld } from \"..\";\nimport Table from \"./table\";\n\nclass Ball {\n  x: number;\n  y: number;\n  radius: number = 10;\n  dx: number = 0;\n  dy: number = 0;\n  color: string;\n  mass: number = 1;\n  isPocketed: boolean = false;\n  canvas: HTMLCanvasElement;\n  table: Table;\n  constructor(\n    x: number,\n    y: number,\n    world: BilliardWorld,\n    color: string = \"#FFFFFF\"\n  ) {\n    this.x = x;\n    this.y = y;\n    this.color = color;\n    this.canvas = world.canvas;\n    this.table = world.table;\n  }\n\n  draw() {\n    if (this.isPocketed) return;\n\n    const ctx = this.canvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.beginPath();\n      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);\n      ctx.fillStyle = this.color;\n      ctx.fill();\n      ctx.closePath();\n    }\n  }\n\n  update() {\n    if (this.isPocketed) return;\n\n    this.x += this.dx;\n    this.y += this.dy;\n\n    this.dx *= 0.98;\n    this.dy *= 0.98;\n\n    if (Math.abs(this.dx) < 0.01) this.dx = 0;\n    if (Math.abs(this.dy) < 0.01) this.dy = 0;\n\n    if (\n      this.x + this.radius > this.table.width + this.table.padding ||\n      this.x - this.radius < this.table.padding\n    ) {\n      this.dx = -this.dx;\n\n      if (this.x + this.radius > this.table.width + this.table.padding)\n        this.x = this.table.width + this.table.padding - this.radius;\n      if (this.x - this.radius < this.table.padding)\n        this.x = this.table.padding + this.radius;\n    }\n    if (\n      this.y + this.radius > this.table.height + this.table.padding ||\n      this.y - this.radius < this.table.padding\n    ) {\n      this.dy = -this.dy;\n\n      if (this.y + this.radius > this.table.height + this.table.padding)\n        this.y = this.table.height + this.table.padding - this.radius;\n      if (this.y - this.radius < this.table.padding)\n        this.y = this.table.padding + this.radius;\n    }\n\n    this.draw();\n  }\n}\n\nexport default Ball;\n","import Ball from \"../entities/ball\";\n\nexport function isColliding(ball1: Ball, ball2: Ball) {\n  const dx = ball2.x - ball1.x;\n  const dy = ball2.y - ball1.y;\n  const distance = Math.sqrt(dx * dx + dy * dy);\n  return distance < ball1.radius + ball2.radius;\n}\n\nexport function resolveCollision(ball1: Ball, ball2: Ball) {\n  const xVelocityDiff = ball1.dx - ball2.dx;\n  const yVelocityDiff = ball1.dy - ball2.dy;\n\n  const xDistance = ball2.x - ball1.x;\n  const yDistacne = ball2.y - ball1.y;\n\n  if (xVelocityDiff * xDistance + yVelocityDiff * yDistacne >= 0) {\n    const angle = -Math.atan2(ball2.y - ball1.y, ball2.x - ball1.x);\n\n    const u1 = rotate({ x: ball1.dx, y: ball1.dy }, angle);\n    const u2 = rotate({ x: ball2.dx, y: ball2.dy }, angle);\n\n    const v1 = { x: u2.x, y: u1.y };\n    const v2 = { x: u1.x, y: u2.y };\n\n    const vFinal1 = rotate(v1, -angle);\n    const vFinal2 = rotate(v2, -angle);\n\n    ball1.dx = vFinal1.x;\n    ball1.dy = vFinal1.y;\n    ball2.dx = vFinal2.x;\n    ball2.dy = vFinal2.y;\n  }\n}\n\n\n\nfunction rotate(velocity: { x: number; y: number }, angle: number) {\n    return {\n      x: velocity.x * Math.cos(angle) - velocity.y * Math.sin(angle),\n      y: velocity.x * Math.sin(angle) + velocity.y * Math.cos(angle),\n    };\n  }\n  ","import Ball from \"./entities/ball\";\nimport Table from \"./entities/table\";\nimport { isColliding, resolveCollision } from \"./physics/collision\";\n\nexport type BilliardWorld = {\n  canvas: HTMLCanvasElement;\n  table: Table;\n};\n\nconst canvas = document.getElementById(\"gameCanvas\") as HTMLCanvasElement;\nconst ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\nconst angleInput = document.getElementById(\"angle\") as HTMLInputElement;\nconst forceInput = document.getElementById(\"force\") as HTMLInputElement;\nconst strikeButton = document.getElementById(\"strike\") as HTMLButtonElement;\nconst hitBallCount = document.getElementById(\"hitBallCount\") as HTMLDivElement;\nhitBallCount.textContent = \"0\";\n\nconst table = new Table(800, 400, 10, \"#006400\", \"#654321\");\nconst world: BilliardWorld = { canvas, table };\n\nconst holes = [\n  { x: table.padding, y: table.padding, radius: 20 },\n  { x: table.width / 2 + table.padding, y: table.padding, radius: 20 },\n  { x: table.width + table.padding, y: table.padding, radius: 20 },\n  { x: table.padding, y: table.height + table.padding + 2, radius: 20 },\n  {\n    x: table.width / 2 + table.padding,\n    y: table.height + table.padding + 2,\n    radius: 20,\n  },\n  {\n    x: table.width + table.padding,\n    y: table.height + table.padding,\n    radius: 20,\n  },\n];\n\nfunction createInitialBalls(startX: number, startY: number) {\n  const balls: Ball[] = [];\n  const spacing = 2 * 10 + 5;\n\n  let rowNum = 1;\n  let offsetY = 0;\n\n  balls.push(new Ball(startX, startY, world));\n\n  rowNum = 2;\n  offsetY = spacing / 2;\n  balls.push(new Ball(startX + spacing, startY + offsetY, world));\n  balls.push(new Ball(startX + spacing, startY - offsetY, world));\n\n  rowNum = 3;\n  offsetY = spacing;\n  for (let i = 0; i < rowNum; i++) {\n    balls.push(\n      new Ball(startX + 2 * spacing, startY - offsetY + i * spacing, world)\n    );\n  }\n\n  rowNum = 4;\n  offsetY = spacing * 1.5;\n  for (let i = 0; i < rowNum; i++) {\n    balls.push(\n      new Ball(startX + 3 * spacing, startY - offsetY + i * spacing, world)\n    );\n  }\n\n  rowNum = 5;\n  offsetY = spacing * 2;\n  for (let i = 0; i < rowNum; i++) {\n    balls.push(\n      new Ball(startX + 4 * spacing, startY - offsetY + i * spacing, world)\n    );\n  }\n\n  return balls;\n}\n\nlet balls: Ball[] = createInitialBalls(\n  canvas.width / 2 + 150,\n  canvas.height / 2\n);\n\nconst cueBall = new Ball(\n  canvas.width / 2 - 250,\n  canvas.height / 2,\n  world,\n  \"#000\"\n);\n\nfunction drawTable() {\n  ctx.fillStyle = table.borderColor;\n  ctx.fillRect(\n    0,\n    0,\n    table.width + table.padding * 2,\n    table.padding * 2 + table.height\n  );\n  ctx.fillStyle = table.tableColor;\n  ctx.fillRect(table.padding, table.padding, table.width, table.height);\n}\n\nfunction drawHoles() {\n  holes.forEach((hole) => {\n    ctx.beginPath();\n    ctx.arc(hole.x, hole.y, hole.radius, 0, Math.PI * 2);\n    ctx.fillStyle = \"#000\";\n    ctx.fill();\n    ctx.closePath();\n  });\n}\n\nfunction drawCueStick() {\n  const angle = Number(angleInput.value);\n  const radians = (angle * Math.PI) / 180;\n\n  const cueStartX = cueBall.x - Math.cos(radians) * 15;\n  const cueStartY = cueBall.y - Math.sin(radians) * 15;\n\n  const cueEndX = cueStartX - Math.cos(radians) * 100;\n  const cueEndY = cueStartY - Math.sin(radians) * 100;\n\n  ctx.beginPath();\n  ctx.moveTo(cueStartX, cueStartY);\n  ctx.lineTo(cueEndX, cueEndY);\n  ctx.strokeStyle = \"#8B4513\";\n  ctx.lineWidth = 4;\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction areAllBallsStopped() {\n  return [cueBall, ...balls].every(\n    (ball) => Math.abs(ball.dx) < 0.01 && Math.abs(ball.dy) < 0.01\n  );\n}\n\nfunction update() {\n  displayInputValues();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  drawTable();\n  drawHoles();\n  balls.forEach((ball) => ball.update());\n  cueBall.update();\n\n  const allBalls = [cueBall, ...balls];\n  for (let i = 0; i < allBalls.length; i++) {\n    const ballToCollide = allBalls[i];\n    for (let j = i + 1; j < allBalls.length; j++) {\n      const ball2 = allBalls[j];\n      if (isColliding(ballToCollide, ball2)) {\n        resolveCollision(ballToCollide, ball2);\n      }\n    }\n  }\n\n  allBalls.forEach((ball) => {\n    if (ball.isPocketed) {\n      return;\n    }\n    if (isBallInHole(ball)) {\n      ball.isPocketed = true;\n      if (ball === cueBall) {\n        resetCueBall();\n      } else {\n        hitBallCount.textContent = `${Number(hitBallCount.textContent) + 1}`;\n      }\n    }\n  });\n\n  balls = balls.filter((ball) => !ball.isPocketed);\n\n  if (areAllBallsStopped()) {\n    drawCueStick();\n    angleInput.disabled = false;\n    forceInput.disabled = false;\n    strikeButton.disabled = false;\n  } else {\n    angleInput.disabled = true;\n    forceInput.disabled = true;\n    strikeButton.disabled = true;\n  }\n}\n\nfunction strikeBall() {\n  if (!areAllBallsStopped()) return;\n\n  const angle = Number(angleInput.value);\n  const force = Number(forceInput.value);\n  const radians = (angle * Math.PI) / 180;\n\n  cueBall.dx = Math.cos(radians) * force * 0.25;\n  cueBall.dy = Math.sin(radians) * force * 0.25;\n\n  requestAnimationFrame(gameLoop);\n}\n\nfunction gameLoop() {\n  update();\n\n  if (!areAllBallsStopped()) {\n    requestAnimationFrame(gameLoop);\n  }\n}\n\nfunction isBallInHole(ball: Ball) {\n  for (const hole of holes) {\n    const dx = ball.x - hole.x;\n    const dy = ball.y - hole.y;\n    const distance = Math.sqrt(dx * dx + dy * dy);\n    if (distance <= hole.radius) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction resetCueBall() {\n  cueBall.x = canvas.width / 2 - 250;\n  cueBall.y = canvas.height / 2;\n  cueBall.dx = 0;\n  cueBall.dy = 0;\n  cueBall.isPocketed = false;\n  update();\n}\n\nstrikeButton.addEventListener(\"click\", strikeBall);\n\nangleInput.addEventListener(\"input\", () => {\n  if (areAllBallsStopped()) update();\n});\n\nforceInput.addEventListener(\"input\", () => {\n  displayInputValues();\n});\n\nfunction displayInputValues() {\n  const angleValueNode = document.getElementById(\"angleValue\");\n  if (angleValueNode) {\n    angleValueNode.textContent = angleInput.value;\n  }\n\n  const forceValueNode = document.getElementById(\"forceValue\");\n  if (forceValueNode) {\n    forceValueNode.textContent = forceInput.value;\n  }\n}\n\nupdate();\n","\nclass Table {\n  width: number;\n  height: number;\n  padding: number;\n  tableColor: string;\n  borderColor: string;\n  constructor(width: number, height: number, padding: number, tableColor: string, borderColor: string) {\n    this.width = width;\n    this.height = height;\n    this.padding = padding;\n    this.tableColor = tableColor;\n    this.borderColor = borderColor;\n  }\n}\n\nexport default Table;\n"],"names":["x","y","world","color","radius","dx","dy","mass","isPocketed","this","canvas","table","draw","ctx","getContext","beginPath","arc","Math","PI","fillStyle","fill","closePath","update","abs","width","padding","height","isColliding","ball1","ball2","sqrt","resolveCollision","xVelocityDiff","yVelocityDiff","angle","atan2","u1","rotate","u2","v1","v2","vFinal1","vFinal2","velocity","cos","sin","document","getElementById","angleInput","forceInput","strikeButton","hitBallCount","textContent","tableColor","borderColor","holes","balls","startX","startY","spacing","rowNum","offsetY","push","i","createInitialBalls","cueBall","areAllBallsStopped","every","ball","displayInputValues","clearRect","fillRect","forEach","hole","radians","cueStartX","cueStartY","cueEndX","cueEndY","allBalls","length","ballToCollide","j","isBallInHole","Number","filter","value","moveTo","lineTo","strokeStyle","lineWidth","stroke","disabled","gameLoop","requestAnimationFrame","angleValueNode","forceValueNode","addEventListener","force"],"sourceRoot":""}